{"version":3,"file":"js/869.4be2afad.js","mappings":"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","sources":["webpack://week7-homework/./src/views/CartView.vue","webpack://week7-homework/./src/components/ProductModal.vue","webpack://week7-homework/./src/components/ProductModal.vue?b0ff","webpack://week7-homework/./src/views/CartView.vue?73a2"],"sourcesContent":["<template>\n  <h2>購物車</h2>\n  <table class=\"table align-middle\">\n    <thead>\n      <tr>\n        <th>圖片</th>\n        <th>商品名稱</th>\n        <th>價格</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"product in products\" :key=\"product.id\">\n        <td style=\"width: 200px\">\n          <div\n            :style=\"{ backgroundImage: `url(${product.imageUrl})` }\"\n            style=\"\n              height: 100px;\n              background-size: cover;\n              background-position: center;\n            \"\n          ></div>\n        </td>\n        <td>\n          {{ product.title }}\n        </td>\n        <td>\n          <div class=\"h5\" v-if=\"product.price === product.origin_price\">\n            {{ product.price }} 元\n          </div>\n          <div v-else>\n            <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n            <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n          </div>\n        </td>\n        <td>\n          <div class=\"btn-group btn-group-sm\">\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-secondary\"\n              @click=\"openProductModal(product.id)\"\n              :disabled=\"-1 < isLoadingItem.indexOf(product.id)\"\n            >\n              <!-- <i class=\"fas fa-spinner fa-pulse\"></i> -->\n              查看更多\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-danger\"\n              @click=\"addToCart(product.id)\"\n              :disabled=\"-1 < isLoadingItem.indexOf(product.id)\"\n            >\n              <i\n                class=\"fas fa-spinner fa-pulse\"\n                v-show=\"-1 < isLoadingItem.indexOf(product.id)\"\n              ></i>\n              加到購物車\n            </button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <!-- 購物車列表 -->\n  <div class=\"text-end\" id=\"bill\">\n    <button\n      class=\"btn btn-outline-danger\"\n      type=\"button\"\n      @click=\"clearCart\"\n      :disabled=\"0 < isLoadingItem.length || 0 >= cartData.carts?.length\"\n    >\n      清空購物車\n    </button>\n  </div>\n  <table class=\"table align-middle\">\n    <thead>\n      <tr>\n        <th></th>\n        <th>品名</th>\n        <th style=\"width: 150px\">數量/單位</th>\n        <th>單價</th>\n      </tr>\n    </thead>\n    <tbody>\n      <!-- 購物車資料是否存在 -->\n      <template v-if=\"cartData.carts\">\n        <tr v-for=\"item in cartData.carts\" :key=\"item.id\">\n          <td>\n            <button\n              type=\"button\"\n              class=\"btn btn-outline-danger btn-sm\"\n              @click=\"removeCartItem(item.id)\"\n              :disabled=\"-1 < isLoadingItem.indexOf(item.id)\"\n            >\n              <i\n                class=\"fas fa-spinner fa-pulse\"\n                v-show=\"-1 < isLoadingItem.indexOf(item.id)\"\n              ></i>\n              x\n            </button>\n          </td>\n          <td>\n            {{ item.product.title }}\n            <!-- <div class=\"text-success\">\n                    已套用優惠券\n                  </div> -->\n          </td>\n          <td>\n            <div class=\"input-group input-group-sm\">\n              <div class=\"input-group mb-3\">\n                <!-- <input min=\"1\" type=\"number\" class=\"form-control\" v-model=\"item.qty\"> -->\n                <select\n                  class=\"form-select\"\n                  v-model=\"item.qty\"\n                  @change=\"updateCartItem(item)\"\n                  :disabled=\"-1 < isLoadingItem.indexOf(item.id)\"\n                >\n                  <option\n                    :value=\"num\"\n                    v-for=\"num in item.qty\"\n                    :key=\"`${num}-${item.id}`\"\n                  >\n                    {{ num }}\n                  </option>\n                </select>\n                <span class=\"input-group-text\" id=\"basic-addon2\">{{\n                  item.product.unit\n                }}</span>\n              </div>\n            </div>\n          </td>\n          <td class=\"text-end\">\n            <!-- <small class=\"text-success\">折扣價：</small> -->\n            {{ item.total }}\n          </td>\n        </tr>\n      </template>\n    </tbody>\n    <tfoot>\n      <tr>\n        <td colspan=\"3\" class=\"text-end\">總計</td>\n        <td class=\"text-end\">{{ cartData.total }}</td>\n      </tr>\n      <!-- <tr>\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n              <td class=\"text-end text-success\">{{ }}</td>\n            </tr> -->\n    </tfoot>\n  </table>\n\n  <div class=\"container\">\n    <div class=\"row justify-content-center\">\n        <Form ref=\"form\" class=\"col-md-6\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\">Email</label>\n            <Field\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['email'] }\"\n              placeholder=\"請輸入 Email\"\n              rules=\"email|required\"\n              v-model=\"form.user.email\"\n            ></Field>\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">收件人姓名</label>\n            <Field\n              id=\"name\"\n              name=\"姓名\"\n              type=\"text\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['姓名'] }\"\n              placeholder=\"請輸入姓名\"\n              rules=\"required\"\n              v-model=\"form.user.name\"\n            ></Field>\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\">收件人電話</label>\n            <Field\n              id=\"tel\"\n              name=\"電話\"\n              type=\"text\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['電話'] }\"\n              placeholder=\"請輸入電話\"\n              rules=\"required|min:8\"\n              v-model=\"form.user.tel\"\n            ></Field>\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">收件人地址</label>\n            <Field\n              id=\"address\"\n              name=\"地址\"\n              type=\"text\"\n              class=\"form-control\"\n              :class=\"{ 'is-invalid': errors['地址'] }\"\n              placeholder=\"請輸入地址\"\n              rules=\"required\"\n              v-model=\"form.user.address\"\n            ></Field>\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">留言</label>\n            <textarea\n              id=\"message\"\n              class=\"form-control\"\n              cols=\"30\"\n              rows=\"10\"\n              v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"text-end\">\n            <button\n              type=\"submit\"\n              class=\"btn btn-danger\"\n              :disabled=\"Object.keys(errors).length > 0 || cartData.carts?.length === 0\"\n            >送出訂單</button>\n          </div>\n        </Form>\n      </div>\n  </div>\n\n  <!-- 產品Modal -->\n  <ProductModal :id=\"productId\" ref=\"productModal\"></ProductModal>\n  <!-- 產品Modal -->\n</template>\n\n<script>\nimport emitter from '@/libs/emitter';\nimport ProductModal from '@/components/ProductModal.vue';\n\nexport default {\n  data() {\n    return {\n      cartData: {}, // 購物車列表\n      products: [], // 產品列表\n      productId: '',\n      isLoadingItem: [],\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  components: {\n    ProductModal,\n  },\n  methods: {\n    getProducts() {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          this.products = res.data.products;\n        });\n    },\n    openProductModal(id) {\n      this.productId = id;\n      this.$refs.productModal.openModal();\n    },\n    getCart() {\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`).then((res) => {\n        this.cartData = res.data.data;\n        emitter.emit('get-cart');\n      });\n    },\n    addToCart(id, qty = 1) {\n      this.isLoadingItem.push(id);\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.$http\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, { data })\n        .then(() => {\n          this.getCart();\n          this.isLoadingItem = [];\n        });\n    },\n    clearCart() {\n      const pids = [];\n      if (!this.cartData.carts) return;\n      this.cartData.carts.forEach((item) => {\n        pids.push(item.id);\n      });\n      if (pids.length <= 0) return;\n      this.isLoadingItem = [...pids];\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`).then(() => {\n        this.isLoadingItem = [];\n        this.getCart();\n      });\n    },\n    removeCartItem(id) {\n      this.isLoadingItem = [id];\n      this.$http.delete(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`).then(() => {\n        this.getCart();\n        this.isLoadingItem = [];\n      });\n    },\n    createOrder() {\n      const data = this.form;\n      this.$http.post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`, { data })\n        .then((res) => {\n          emitter.emit('push-message', {\n            style: 'success',\n            title: '送出訂單成功',\n            content: res.data.message,\n          });\n          this.$refs.form.resetForm();\n          this.getCart();\n        })\n        .catch((err) => {\n          emitter.emit('push-message', {\n            style: 'danger',\n            title: '錯誤訊息',\n            content: err.data.message,\n          });\n        });\n    },\n  },\n  mounted() {\n    this.getProducts();\n    this.getCart();\n    emitter.on('add-cart', (param) => {\n      this.addToCart(param.id, param.qty);\n    });\n  },\n};\n</script>\n","<template>\n  <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\" >\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\n          <div class=\"modal-content border-0\">\n              <div class=\"modal-header bg-dark text-white\">\n                  <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                      <span>{{ product.title }}</span>\n                  </h5>\n                  <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"\n                      aria-label=\"Close\"></button>\n              </div>\n              <div class=\"modal-body\">\n                  <div class=\"row\">\n                      <div class=\"col-sm-6\">\n                          <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"\">\n                      </div>\n                      <div class=\"col-sm-6\">\n                          <span class=\"badge bg-primary rounded-pill\">{{ product.category }}</span>\n                          <p>商品描述：{{ product.content }}</p>\n                          <p>商品內容：{{ product.description }}</p>\n                          <div class=\"h5\" v-if=\"product.price === product.origin_price\">\n                            {{ product.price }} 元\n                          </div>\n                          <div>\n                              <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n                              <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n                          </div>\n                          <div>\n                              <div class=\"input-group\">\n                                  <input type=\"number\" class=\"form-control\" min=\"1\" v-model=\"qty\"\n                                      :disabled=\"isLoading\">\n                                  <button type=\"button\" class=\"btn btn-primary\" @click=\"addToCart\"\n                                      :disabled=\"isLoading\">加入購物車</button>\n                              </div>\n                          </div>\n                      </div>\n                      <!-- col-sm-6 end -->\n                  </div>\n              </div>\n          </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\nimport emitter from '@/libs/emitter';\n\nexport default {\n  props: ['id'],\n  data() {\n    return {\n      modal: {},\n      product: {},\n      qty: 1,\n      isLoading: false,\n      preId: '', // 暫存查看上一個產品的 id\n    };\n  },\n  watch: {\n    id() {\n      this.getProduct();\n      if (this.preId !== this.id) {\n        this.preId = this.id;\n        this.product = {};\n      }\n    },\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    closeModal() {\n      this.modal.hide();\n    },\n    getProduct() {\n      this.isLoading = true;\n      this.$http.get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`)\n        .then((res) => {\n          this.product = res.data.product;\n          this.isLoading = false;\n        });\n    },\n    addToCart() {\n      if (this.product && this.product.id) {\n        emitter.emit('add-cart', {\n          id: this.product.id,\n          qty: this.qty,\n        });\n        this.closeModal();\n      }\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=4ee833f6\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\temp\\\\week7-homework\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CartView.vue?vue&type=template&id=4ef72482\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\temp\\\\week7-homework\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","id","colspan","for","_hoisted_1","_hoisted_3","_createElementBlock","_Fragment","_renderList","$data","product","key","backgroundImage","imageUrl","_toDisplayString","title","price","origin_price","_hoisted_6","type","onClick","$options","disabled","indexOf","_hoisted_10","length","carts","_hoisted_15","_hoisted_17","item","qty","$event","onChange","_ctx","num","value","_hoisted_24","unit","total","_hoisted_27","_createVNode","_component_Form","ref","onSubmit","errors","_hoisted_32","_component_Field","name","placeholder","rules","user","email","_component_ErrorMessage","_hoisted_34","_hoisted_36","tel","_hoisted_38","address","_hoisted_40","cols","rows","message","Object","keys","_hoisted_42","_component_ProductModal","tabindex","role","src","alt","category","content","description","min","_hoisted_18","props","data","modal","isLoading","preId","watch","this","getProduct","methods","openModal","show","closeModal","hide","$http","get","then","res","addToCart","emitter","mounted","Modal","$refs","keyboard","backdrop","__exports__","cartData","products","productId","isLoadingItem","form","components","ProductModal","getProducts","openProductModal","productModal","getCart","push","product_id","post","clearCart","pids","forEach","delete","removeCartItem","createOrder","resetForm","catch","err","param","render"],"sourceRoot":""}